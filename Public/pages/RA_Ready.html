<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cámara en HTML</title>
  <link rel="stylesheet" href="../CSS/RA_Ready.css">
</head>
<body>
  
   
    <div class="close-btn"> <a href="MainWindow.HTML">✖</a></div>

    <div class="wrapper-RA">

        <video id="camara" width="800" autoplay playsinline></video>


        <div class="submenuBtn">
            <button id="btn" onclick="abrirCamara()">Abrir cámara</button>
            <button id="btn" onclick="cerrarCamara()">Cerrar cámara</button>
        </div>

    </div>

  
    <script>
        let stream; // variable para guardar el flujo de la cámara

        function abrirCamara() {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function (s) {
                    stream = s;
                    document.getElementById('camara').srcObject = stream;
                })
                .catch(function (error) {
                    console.log("Error al abrir la cámara: ", error);
                });
        }

        function cerrarCamara() {
            if (stream) {
                // Detiene todas las pistas de video
                stream.getTracks().forEach(track => track.stop());
                document.getElementById('camara').srcObject = null;
            }
        }

    </script>



</body>
</html>
